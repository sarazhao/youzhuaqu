# 自动视频生成器

一个Python脚本，可以将图片序列自动转换为带缩放效果和背景音乐的视频。

## 主要功能

1. `get_image_files`: 获取指定目录下的所有图片文件
2. `create_clip_with_zoom`: 为单张图片创建带缩放效果的视频片段
3. `create_video`: 主函数，处理图片并生成视频
4. 支持批量处理，可以将图片按组生成多个视频

## 关键技术点

1. 使用 `moviepy` 库处理视频
   - 图片序列转视频
   - 添加缩放动画效果
   - 音频处理和合成

2. 实现平滑的缩放效果
   - 从100%逐渐放大到120%
   - 保持画面居中
   - 确保画面填充

3. 异常处理
   - 文件路径检查
   - 图片处理错误捕获
   - 资源释放保证

4. 资源管理
   - 及时释放视频和音频资源
   - 避免内存泄漏

## 使用说明

1. 安装依赖： 
bash
pip install moviepy numpy decorator imageio imageio-ffmpeg proglog requests tqdm pillow

2. 准备文件：
   - 将图片文件放入指定目录
   - 准备背景音乐文件

3. 配置路径：
   - 修改 `image_dir`: 图片目录路径
   - 修改 `audio_path`: 音频文件路径
   - 输出目录默认在脚本所在目录的 `output` 文件夹中

4. 运行脚本：
bash
python video_maker.py

## 参数说明

- `batch_size`: 每个视频包含的图片数量，默认为10
- `max_videos`: 限制生成的视频数量，默认为None（不限制）
- `duration`: 每张图片的显示时长，默认为2秒

## 注意事项

1. 图片要求：
   - 支持的格式：jpg, jpeg, png
   - 建议图片尺寸一致
   - 按文件名排序处理

2. 性能考虑：
   - 处理大量图片时注意内存使用
   - 可以通过 `max_videos` 参数限制处理数量
   - 及时清理生成的视频文件

3. 视频质量：
   - 输出视频为H.264编码
   - 帧率为24fps
   - 音频使用AAC编码

4. 常见问题：
   - 确保所有路径正确
   - 检查图片文件是否可以正常打开
   - 确保有足够的磁盘空间

## 项目结构

```
project/
    ├── .venv/          # 虚拟环境
    ├── output/         # 生成的视频文件
    ├── video_maker.py  # 主程序
    └── README.md       # 说明文档
```

## 开发环境

- Python 3.9+
- moviepy 1.0.3
- Pillow 9.5.0+

## License

MIT License
```


这个README文件包含了：
1. 项目的基本介绍
2. 主要功能说明
3. 技术实现细节
4. 使用方法和注意事项
5. 项目结构和环境要求

